<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, user-scalable=no" />
    <title>news</title>
    <link href="css/index.css" rel="stylesheet" type="text/css">
</head>
<body>
</body>
<script id="news-item" type="text/html">
    <ul>
        {{each list as value index}}
            {{if value.data.images.length > 1}}
            <li class="list-item" data-id="{{value.lnk}}" data-lnk="{{value.lnk}}">
                <h1>{{value.data.newsTitle}}</h1>
                {{each value.data.images as val i}}
                    <img class="img-group" src="{{value.data.images[i]}}">
                {{/each}}
            </li>
            {{else}}
            <li class="list-item" data-id="{{value.lnk}}" data-lnk="{{value.lnk}}">
                <div class="news-img"><img src="{{value.data.images[0]}}" alt=""></div>
                <div class="des">
                    <h1>{{value.data.newsTitle}}</h1>
                    <p class="sub-des"><span class="ori">{{value.data.authorName}}</span></p>
                </div>
            </li>
            {{/if}}
        {{/each}}
    </ul>
</script>
<script src="http://cdn.bootcss.com/zepto/1.1.4/zepto.js"></script>
<script src="./vendor/template.js" ></script>
<script type="text/javascript">
Zepto(function($){
   $.get("data.txt", function(data){
        var json = JSON.parse(data);
        if(json){
            var html = template('news-item', {list: json});
            $('body').append(html);
        }
   });
   $(document).on('click', '.list-item', function(){
        window.location.href = ($(this).attr('data-lnk'));
   });
});
</script>
</html>
